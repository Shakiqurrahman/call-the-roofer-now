window.vsm={rescaleRecaptchaOnResize:function(){if(!document.getElementsByClassName("g-recaptcha").length){return}var timeoutId;$(window).resize(function(){if(timeoutId){window.clearTimeout(timeoutId);timeoutId=undefined}timeoutId=window.setTimeout(rescaleCaptcha,50)})},autoFill:{setHeights:function(timeout){if(designer){removeClearedFillHeights();$(".fill").each(window.vsm.autoFill.resizeWidget)}else{window.setTimeout(function(){$(".fill").each(window.vsm.autoFill.resizeWidget);window.vsm.facebook.renderWidget()},timeout?timeout:500)}},reloadOnResize:function(){if(!document.getElementsByClassName("fill").length)return;$(window).resize(window.vsm.autoFill.setHeights);window.addEventListener("orientationchange",window.vsm.autoFill.setHeights)},resizeWidget:function(i,el){$(el).css({height:""});var siblings=$(el).siblings().not(".fill"),siblingsHeight=0;$(siblings).each(function(i,sibEl){siblingsHeight+=$(sibEl).outerHeight(true)});siblingsHeight+=parseFloat($(el).css("margin-top"));siblingsHeight+=parseFloat($(el).css("margin-bottom"));var parentHeight=$(el).parent().height();var fillSiblings=$(el).siblings(".fill");var fillNewHeight=parentHeight-siblingsHeight;if(fillSiblings.length>0){$(fillSiblings).each(function(i,fillEl){siblingsHeight+=parseFloat($(fillEl).css("margin-top"));siblingsHeight+=parseFloat($(fillEl).css("margin-bottom"))});siblingsHeight/=fillSiblings.length+1;fillNewHeight=parentHeight/(fillSiblings.length+1)-siblingsHeight}$(el).css({height:fillNewHeight+"px"})}},viewports:{sm:{width:768}},share:{init:function(){$(".widget.sharethis").each(function(ix,el){var $this=$(el);var widths=$this.find(".sharethis-item").map(function(){return $(this).width()}).get();var max=Math.max(widths)||200;var elemRect=$this.parent().get(0).getBoundingClientRect();var leftOffset=elemRect.right+window.pageXOffset;var alignRight=leftOffset>window.innerWidth-max;if(alignRight){$this.find(".dropdown-menu").addClass("dropdown-menu-right")}else{$this.find(".dropdown-menu").removeClass("dropdown-menu-right")}})}},facebook:{init:function(){window.vsm.facebook.clearMutationObservers();window.vsm.facebook.setInitialHeight();window.vsm.facebook.reloadOnResize()},setInitialHeight:function(){var setAutofillHeight=function(){var facebookPages=document.getElementsByClassName("facebookpage");for(var index=0;index<facebookPages.length;index++){var element=facebookPages[index];window.vsm.facebook.resizeWidget(element);var mutationObserver=window.vsm.facebook.observeCellStyleChanges(element);window.vsm.facebook.mutationObservers.push(mutationObserver)}};setTimeout(setAutofillHeight,document.getElementsByClassName("fb-page").length?0:3e3)},reloadOnResize:function(){if(!document.getElementsByClassName("fb-page").length){return}$(window).off("resize.facebook");var timeoutId;$(window).on("resize.facebook",function(){if(!window.FB||!window.FB.XFBML){timeoutId=undefined;return}if(timeoutId){window.clearTimeout(timeoutId);timeoutId=undefined}var timeout=2e3;timeoutId=window.setTimeout(window.vsm.facebook.renderWidget,timeout)})},renderWidget:function(){var facebookPages=document.getElementsByClassName("facebookpage");for(var index=0;index<facebookPages.length;index++){var element=facebookPages[index];window.vsm.facebook.resizeWidget(element)}},updateWidgetAlignment:function(element){var parentAlignment=window.getComputedStyle(element.parentElement).textAlign;element.style.textAlign=parentAlignment||"center"},resizeWidget:function(element){if(!window.FB){return}var fbPage=element.getElementsByClassName("fb-page")[0];var isVisible=element.offsetWidth>0&&element.offsetHeight>0;if(!isVisible||!fbPage){return}var height=element.dataset.height;var fixedHeight=false;var newHeight;if(window.vsm.facebook.height.hasOwnProperty(height)){newHeight=window.vsm.facebook.height[height];fixedHeight=true}else{newHeight=window.vsm.facebook.height.default}var windowSize=getWindowSize();var isWidthOK=element.clientWidth>window.vsm.facebook.maxWidth;if(isWidthOK){fbPage.dataset.width=window.vsm.facebook.maxWidth}else{fbPage.dataset.width=element.clientWidth}if(element.dataset.height==="fill"){newHeight=element.clientHeight}else if(newHeight>windowSize.height&&!fixedHeight){newHeight=parseInt(windowSize.height*.8)}if(newHeight){fbPage.dataset.height=newHeight}window.FB.XFBML.parse(element,function(){if(window.frameElement){return}var style=window.getComputedStyle(element);var borderTopWidth=parseInt(style.borderTopWidth.replace("px",""));var borderBottomWidth=parseInt(style.borderBottomWidth.replace("px",""));var border=borderTopWidth+borderBottomWidth;if(border){element.style.height=newHeight+border+"px"}})},observeCellStyleChanges:function(element){var observer=new MutationObserver(function(mutations){mutations.forEach(function(mutationRecord){if(mutationRecord.attributeName==="class"){var oldValue=mutationRecord.oldValue.replace(" cell","").replace(" cell-ancestor","").replace(" designer-selected","").replace(" designer-selected-ancestor","");var newValue=mutationRecord.target.className.replace(" cell","").replace(" cell-ancestor","").replace(" designer-selected","").replace(" designer-selected-ancestor","");if(oldValue!==newValue){window.vsm.facebook.resizeWidget(element)}}else{window.vsm.facebook.resizeWidget(element);window.vsm.facebook.updateWidgetAlignment(element)}})});observer.observe(element.parentElement,{attributes:true,attributeFilter:["style","class"],attributeOldValue:true});return observer},clearMutationObservers:function(){for(var i=0;i<window.vsm.facebook.mutationObservers.length;i++){var observer=window.vsm.facebook.mutationObservers[i];observer.disconnect()}window.vsm.facebook.mutationObservers=[]},mutationObservers:[],height:{normal:800,compact:400,fill:400,"default":400},maxWidth:500},twitter:{fixSafariFeeds:function(){if(isSafari()){var cssProps={"overflow-y":"scroll","-webkit-overflow-scrolling":"touch"};var isMissingTwitterRendered=false;$(".widget.twittertimeline").each(function(i,el){if($(el).find(".twitter-timeline-rendered").height()<10){isMissingTwitterRendered=true}});if(isMissingTwitterRendered){setTimeout(window.vsm.twitter.fixSafariFeeds,500);return}$(".twitter-timeline-rendered").each(function(i,el){el.style.setProperty("width","1px","important");el.style.setProperty("min-width","100%")});$(".widget.twittertimeline").each(function(i,el){$(el).css(cssProps)})}}},slideshow:{init:function(){$(".owl-carousel").each(function(i,el){if($(el).hasClass("owl-loaded")){$(el).owlCarousel().trigger("destroy.owl.carousel");if($(el).children(".cloned").length>0){$(el).children(".cloned").remove()}$(el).children(".owl-item").each(function(i,childEl){if($(childEl).children().length===0)childEl.remove()})}var owlOptions={items:1,center:true,loop:el.dataset.loop&&el.dataset.loop==="true",nav:designer?true:el.dataset.nav&&el.dataset.nav==="true",dots:el.dataset.dots&&el.dataset.dots==="true",autoplay:el.dataset.autoplay&&el.dataset.autoplay==="true",navText:["<i class='fas fa-chevron-circle-left fa-lg'></i>","<i class='fas fa-chevron-circle-right fa-lg'></i>"],autoplayHoverPause:designer?true:el.dataset.autoplayhoverpause&&el.dataset.autoplayhoverpause==="true",mouseDrag:!designer,pullDrag:!designer,thumbs:false,slideSpeed:500};var slideShowParent=$(el).parent();if(slideShowParent.has(".owl-thumbs").length>0){owlOptions.thumbs=true;owlOptions.thumbsPrerendered=true;var slyoptions={horizontal:true,prev:slideShowParent.find(".prev"),next:slideShowParent.find(".next"),itemNav:"forceCentered",activateMiddle:true,smart:1,activateOn:"click",mouseDragging:1,touchDragging:1,releaseSwing:1,speed:300,elasticBounds:1,easing:"easeOutExpo",dragHandle:1,dynamicHandle:1,startAt:1,activeClass:"active-sly"};var thumbnails=slideShowParent.find(".thumbnail-frame");thumbnails.sly(false);var sly=new Sly(thumbnails,slyoptions).init()}var owl=$(el).owlCarousel(owlOptions);if(el.dataset.autoplayhoverpause&&el.dataset.autoplayhoverpause==="true"&&el.dataset.autoplay&&el.dataset.autoplay==="true"){owl.mouseover(function(){owl.trigger("stop.owl.autoplay")});owl.mouseleave(function(){owl.trigger("play.owl.autoplay",[5e3])})}var $slideshow=$(this);window.vsm.slideshow.repositionIndicators($slideshow)})},repositionIndicators:function($slideshow){var imageHeight=$slideshow.find(".item-container").height();var indicatorTop=imageHeight-30;$slideshow.find(".owl-dots").css({top:indicatorTop})},repositionIndicatorsOnResize:function(){var timeoutId;$(window).resize(function(){var slideshows=document.getElementsByClassName("owl-carousel");if(timeoutId){window.clearTimeout(timeoutId);timeoutId=undefined}timeoutId=window.setTimeout(function(){for(var index=0;index<slideshows.length;index++){var element=slideshows[index];window.vsm.slideshow.repositionIndicators($(element))}},50)})}},gallery:{init:function(){$(".thumbnail",".widget.gallery").each(function(i,el){var caption=$(".widget.gallery .thumbnail .caption");var width="";if($(el).hasClass("original")===true){var img=$(".widget.gallery .thumbnail .img-wrapper img");var captionWidth=$(this).find(caption).width();var imgWidth=$(this).find(img).width();if(captionWidth>imgWidth){width=imgWidth}}$(this).find(caption).css({width:width})})}},contactform:{init:function(){$("FORM.contactform:not(.customform) BUTTON").on("click",window.vsm.contactform.onClick);$("FORM.contactform:not(.customform)").on("submit",window.vsm.contactform.onSubmit)},onSubmit:function(e){e.preventDefault();var messageDiv=window.vsm.form.getMessageDiv(this);if(!this.checkValidity()){window.vsm.form.onFormError(messageDiv,"Please complete the required fields.")}else{window.vsm.form.clearError(messageDiv)}},onClick:function(e){var buttonElem=this;var formElem=buttonElem.form;var submitButton=$(formElem.elements.contactSubmitButton);var messageDiv=window.vsm.form.getMessageDiv(formElem);window.vsm.form.clearError(messageDiv);e.preventDefault();if(!window.vsm.form.checkValidity(formElem)){submitButton.click();return}if(!formElem.recaptchaPassed){window.vsm.form.onRecaptchaError(messageDiv);return}buttonElem.disabled=true;var requestBody={inputData:{}};var elements=this.form.elements;for(var ii=0;ii<elements.length;ii++){var elem=elements[ii];if(elem.name==="pluginData"){requestBody.pluginData=elem.value}else{requestBody.inputData[elem.name]=elem.value}}var contactUsServiceUrl=sitesApiServiceUrl+"/contactus";$.ajax({type:"POST",url:contactUsServiceUrl,contentType:"application/json",data:JSON.stringify(requestBody),success:function(data,textStatus,jqXHR){formElem.reset();buttonElem.disabled=false;if(grecaptcha){grecaptcha.reset();formElem.recaptchaPassed=false}window.vsm.form.onSuccess(messageDiv);sendGaEvent("ContactForm","submit")},error:function(jqXHR,textStatus,errorThrown){buttonElem.disabled=false;if(grecaptcha){grecaptcha.reset();formElem.recaptchaPassed=false}window.vsm.form.onFormError(messageDiv);sendGaEvent("ContactForm","submitFailed")},dataType:"json"})}},customform:{init:function(){$("FORM.customform BUTTON").on("click",window.vsm.customform.onClick);$("FORM.customform").on("submit",window.vsm.customform.onSubmit)},getRequestBody:function(formEl){var requestBody={inputData:{}};var elements=formEl.elements;for(var ix=0;ix<elements.length;ix++){var el=elements[ix];if(el.name==="pluginData"){requestBody.pluginData=el.value}else if(el.name==="g-recaptcha-response"){requestBody.inputData[el.name]=el.value}else if(["submitButton",""].indexOf(el.name)===-1){var field=window.vsm.customform.getInputValue(el,formEl);if(field!==undefined){var key=field.key||"";requestBody.inputData[key]={label:field.label,type:field.type,value:field.value}}}}return requestBody},onSubmit:function(e,formEl,buttonEl){e.preventDefault();formEl=formEl||this;var messageEl=window.vsm.form.getMessageDiv(formEl);window.vsm.form.clearError(messageEl);if(!window.vsm.form.checkValidity(formEl)){var submitEl=formEl.elements.submitButton;submitEl.click();window.vsm.form.removeCollapsedNavbar();return false}else if(!formEl.recaptchaPassed){window.vsm.form.onRecaptchaError(messageEl);return false}buttonEl=buttonEl||$(formEl).find("button.btn")[0];buttonEl.disabled=true;var url=sitesApiServiceUrl+"/customform";var requestBody=window.vsm.customform.getRequestBody(formEl);var data=JSON.stringify(requestBody);var gaEvent="CustomForm";$.ajax({type:"POST",url:url,contentType:"application/json",data:data,dataType:"json",success:function(){return window.vsm.customform.onPostSuccess(formEl,buttonEl,messageEl,gaEvent)},error:function(){return window.vsm.customform.onPostError(formEl,buttonEl,messageEl,gaEvent)}});return false},onClick:function(e){var button=this;var form=button.form;return window.vsm.customform.onSubmit(e,form,button)},onPostSuccess:function(formEl,buttonEl,messageEl,gaEvent){formEl.reset();buttonEl.disabled=false;if(grecaptcha){grecaptcha.reset();formEl.recaptchaPassed=false}window.vsm.form.onSuccess(messageEl);sendGaEvent(gaEvent,"submit")},onPostError:function(formEl,buttonEl,messageEl,gaEvent){buttonEl.disabled=false;if(grecaptcha){grecaptcha.reset();formEl.recaptchaPassed=false}window.vsm.form.onFormError(messageEl);sendGaEvent(gaEvent,"submitFailed")},getFieldByType:{radio:function(el,form){var label=$(el).closest(".widget[data-label]").data("label");var name=el.name;var value=$(form).find('[name="'+name+'"]:checked').map(function(){return this.value}).toArray();return{key:el.name,label:label,type:el.type,value:value.length?value:"-"}},checkbox:function(el,form){return window.vsm.customform.getFieldByType.radio(el,form)},"default":function(el,form){var label=$(el).closest(".widget[data-label]").data("label");var value=el.value;return{key:el.name,label:label,type:el.type,value:value!==undefined&&value!==""?value:"-"}}},getInputValue:function(el,form){var field;if(window.vsm.customform.getFieldByType.hasOwnProperty(el.type)){field=window.vsm.customform.getFieldByType[el.type](el,form)}else{field=window.vsm.customform.getFieldByType.default(el,form)}if(!field.label){var name=field.name||"";field.label="Field "+name.substr(name.lastIndexOf(".")+1)}return field}},form:{clearError:function($messageEl){$messageEl.html("")},removeCollapsedNavbar:function(){setTimeout(function(){$(".widget.navbar.navbar-top-collapse").removeClass("navbar-top-collapse")},150)},scrollIntoView:function($messageEl){setTimeout(function(){var top=$messageEl.closest(".cell").offset().top;$("html, body").animate({scrollTop:top},100,function complete(){window.vsm.form.removeCollapsedNavbar()})},250)},onFormError:function($messageEl,message){message=message||"There was an error processing your request. Please try again later.";var html=window.vsm.form.bootstrapMessage(message);$messageEl.html(html);window.vsm.form.scrollIntoView($messageEl)},onSuccess:function($messageEl){var message="Your request has been submitted successfully";var html=window.vsm.form.bootstrapMessage(message,"success");$messageEl.html(html);window.vsm.form.scrollIntoView($messageEl)},onRecaptchaError:function($messageEl){var message="You must first complete the verification step.";var html=window.vsm.form.bootstrapMessage(message);$messageEl.html(html);window.vsm.form.scrollIntoView($messageEl)},getMessageDiv:function(formEl){return $(formEl).children(".contactMessage:first").first()},checkValidity:function(formEl){var isValid=formEl.checkValidity();if(isValid){$(formEl).find(".form-group").removeClass("has-error")}else{$(formEl).find(":invalid").closest(".form-group").addClass("has-error")}return isValid},bootstrapMessage:function(msg,level){level=level||"danger";return['<div class="alert alert-',level,' alert-dismissible" role="alert" intro="fade" outro="fade">','<button type="button" class="close" data-dismiss="alert" aria-label="Close">','<span aria-hidden="true">&times;</span>',"</button>","<span>",msg,"</span>","</div>"].join("")}}};function isSafari(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}var designer=window.self!=window.top&&!!window.top.document.getElementById("designer-frame");var trackers=["system","affiliate","client"];var functionsToProcess=[];function initializeGa(){if(designer){return}(function(i,s,o,g,r,a,m){i["GoogleAnalyticsObject"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date;a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,"script","https://www.google-analytics.com/analytics.js","ga")}function copyToClipBoard(e){var t=e.target,c=t.dataset.clipboardText;function handler(event){event.clipboardData.setData("text/plain",c);event.preventDefault();document.removeEventListener("copy",handler,true)}document.addEventListener("copy",handler,true);document.execCommand("copy")}function gaAll(){if(designer){return}if(!ga){throw new Error("GA has not been intitialzed")}var gaArgs=arguments;var command=gaArgs[0];trackers.forEach(function(tracker){gaArgs[0]=tracker+"."+command;return ga.apply(null,gaArgs)})}function sendGaEvent(eventCategory,eventAction,eventLabel){if(designer){return}if(gaAll){gaAll("send","event",{eventCategory:eventCategory,eventAction:eventAction,eventLabel:eventLabel,transport:"beacon"})}}function initCollapseNavbar(){collapseNavbar();$(window).scroll(collapseNavbar)}var insertedBanner=false;function collapseNavbar(){var headerEl=$(".widget.header");var navbarEl=$(".widget.navbar");var bannerEl=$(".header-banner");var navitemEl=$(".nav.navbar-nav");var navbrandEl=$(".navbar-brand");var bannerAll=$(bannerEl).last().clone();if(navbarEl.length<1||!headerEl.height()){return}var viewport=document;if($(viewport).scrollTop()>=headerEl.height()){if(!navbarEl.hasClass("navbar-top-collapse")){headerEl.css("height",headerEl.height());navbarEl.addClass("navbar-top-collapse");$(".widget.navbar .navbar-collapse.in").removeClass("in");if($(navitemEl.children()).length===0&&$(viewport).width()<766&&insertedBanner===false){var bannerPhoneNoItems=$(bannerAll).find(".bannergroup:has(.text.content a)").addClass("navbar-noitems-banner-phone").appendTo(navbarEl);insertedBanner=true}else if($(navitemEl.children()).length>0&&$(viewport).width()<766&&insertedBanner===false){var bannerPhone=$(bannerAll).find(".bannergroup:has(.text.content a)").addClass("navbar-banner-phone").insertAfter(navitemEl);insertedBanner=true}else{$(window).resize(function(){if($(viewport).width()>=767&&insertedBanner===true){$(".navbar-banner-phone").remove();$(".navbar-noitems-banner-phone").remove();insertedBanner=false}})}}}else{if(navbarEl.hasClass("navbar-top-collapse")){navbarEl.removeClass("navbar-top-collapse");headerEl.css("height","");$(".widget.navbar .navbar-collapse.in").removeClass("in");$(".navbar-banner-phone").remove();$(".navbar-noitems-banner-phone").remove();insertedBanner=false}}}mobileAndTabletcheck=function(){var check=false;(function(a){if(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0,4)))check=true})(navigator.userAgent||navigator.vendor||window.opera);return check};getWindowSize=function(){var eDocumentBody=document.body;var tDocmentElement=document.documentElement;var nWindowInnerheight=window.innerHeight;var oWindowInnerWidth=window.innerWidth;return{height:nWindowInnerheight||tDocmentElement.clientHeight||eDocumentBody.clientHeight,width:oWindowInnerWidth||tDocmentElement.clientWidth||eDocumentBody.clientWidth}};function shareThis(url){var windowHeight=getWindowSize().height,windowWidth=getWindowSize().width,openWindowHeight=Math.min(600,.6*windowHeight),openWindowWidth=Math.min(800,.8*windowWidth);window.open(url,"",["height="+openWindowHeight,"left="+(windowWidth-openWindowWidth)/2,"top="+(windowHeight-openWindowHeight)/2,"width="+openWindowWidth,"status=1","toolbar=0"].join(","))}function initializeNestedNav(){$(".navbar a.dropdown-toggle").unbind("click").on("click",function(e){var $el=$(this);var $parent=$(this).offsetParent(".dropdown-menu");$(this).parent("li").toggleClass("open");var $menu=$(this).siblings(".dropdown-menu");var widths=$menu.children(".navitem").map(function(){return $(this).width()}).get();var max=Math.max(widths)||200;var elemRect=$parent.get(0).getBoundingClientRect();var leftOffset=elemRect.right+window.pageXOffset;var alignRight=leftOffset>window.innerWidth-max;if(alignRight){$(this).siblings(".dropdown-menu").addClass("dropdown-menu-right")}else{$(this).siblings(".dropdown-menu").removeClass("dropdown-menu-right")}if(!$parent.parent().hasClass("nav")){$el.next().css({top:$el[0].offsetTop,left:$parent.outerWidth()-4})}$(".nav li.open").not($(this).parents("li")).removeClass("open");return false})}function afterImagesLoaded(){var imgs=[];for(var i=0;i<document.images.length;i++){var img=document.images[i];if(img.naturalHeight===0){imgs.push(img)}}var len=imgs.length;var counter=0;if(len===0){setAutoFillHeights();return}Array.prototype.forEach.call(imgs,function(img){img.addEventListener("load",incrementCounter,false)});function incrementCounter(){counter++;if(counter===len){setAutoFillHeights()}}}$(document).ready(function(){window.vsm.rescaleRecaptchaOnResize();window.vsm.twitter.fixSafariFeeds();window.vsm.autoFill.reloadOnResize();window.vsm.slideshow.repositionIndicatorsOnResize();function initFunction(){window.vsm.slideshow.init();window.vsm.facebook.init();window.vsm.gallery.init();window.vsm.share.init();rescaleCaptcha()}setTimeout(initFunction,500);gaEvents();checkboxRequiredValidation();initializeNestedNav();if(!designer){window.vsm.autoFill.setHeights(1e3);window.vsm.contactform.init();window.vsm.customform.init();$("FORM.yellowpages BUTTON").click(function(event){handleYellowPagesSubmission(event,yellowPageSubmit)});$("FORM.yellowpages").submit(function(event){event.preventDefault();var messageDiv=window.vsm.form.getMessageDiv(this);if(!this.checkValidity()){window.vsm.form.onFormError(messageDiv,"Please complete the required fields.")}else{window.vsm.form.clearError(messageDiv)}});if(window.navigator.userAgent.toUpperCase().indexOf("IPAD")>=0||window.navigator.userAgent.toUpperCase().indexOf("IPHONE")>=0){$(".widget").filter(function(){return $(this).css("background-attachment")=="fixed"}).css("background-attachment","scroll")}$('.widget.navbar a[href^="#"], a.content-link[href^="#"]').add($('a[href^="#"] > img.widget.image').parent()).click(function(e){e.preventDefault();var scrollTo=$($(this).attr("href")).offset().top;if(scrollTo>100){scrollTo=scrollTo-100}else{scrollTo=0}$("html, body").animate({scrollTop:scrollTo},500);$(this).closest(".collapse.in").collapse("toggle");return false});$(".clipboard").click(function(e){e.preventDefault();copyToClipBoard(e)});$("a.sharethis-link").click(function(e){var url=$(this).attr("href");if(url.startsWith("mailto:")){var description=$("meta[property='og:description']").attr("content");var siteUrl=$("meta[property='og:url']:first").attr("content");var bodyString=description+"\n \n"+siteUrl;$(this).attr("href",url+"&body="+encodeURIComponent(bodyString));return true}if(mobileAndTabletcheck()){return}e.preventDefault();shareThis(url);return false});afterImagesLoaded();lazyLoadImgs()}});function lazyLoadImgs(){var lazyImages=[].slice.call(document.querySelectorAll("img.lazy"));if("IntersectionObserver"in window){var lazyImageObserver=new IntersectionObserver(function(entries,observer){entries.forEach(function(entry){if(entry.isIntersecting){var lazyImage=entry.target;lazyImage.src=lazyImage.dataset.src;lazyImage.srcset=lazyImage.dataset.srcset;lazyImage.classList.remove("lazy");lazyImageObserver.unobserve(lazyImage)}})},{rootMargin:"0px 0px 200px 0px"});lazyImages.forEach(function(lazyImage){lazyImageObserver.observe(lazyImage)})}else{var active=false;var lazyLoad=function(){if(active===false){active=true;setTimeout(function(){lazyImages.forEach(function(lazyImage){if(lazyImage.getBoundingClientRect().top<=window.innerHeight&&lazyImage.getBoundingClientRect().bottom>=0&&getComputedStyle(lazyImage).display!=="none"){lazyImage.src=lazyImage.dataset.src;lazyImage.srcset=lazyImage.dataset.srcset;lazyImage.classList.remove("lazy");lazyImages=lazyImages.filter(function(image){return image!==lazyImage});if(lazyImages.length===0){document.removeEventListener("scroll",lazyLoad);window.removeEventListener("resize",lazyLoad);window.removeEventListener("orientationchange",lazyLoad)}}});active=false},200)}};document.addEventListener("scroll",lazyLoad);window.addEventListener("resize",lazyLoad);window.addEventListener("orientationchange",lazyLoad)}}function runThemeSpecific(){for(var i=0;i<functionsToProcess.length;i++){var item=functionsToProcess[i];item()}}function afterDesignerFrameReady(){$("FORM.contactform").submit(function(event){event.preventDefault();return false});initializeNestedNav();window.vsm.slideshow.init();window.vsm.gallery.init();window.vsm.share.init();if(window.vsm.hasAfterFirstDesignerFrameReadyExecuted){window.vsm.facebook.init()}afterImagesLoaded();if(greReady){recaptchaOnLoadCallback()}else{rescaleCaptcha()}runThemeSpecific();window.vsm.hasAfterFirstDesignerFrameReadyExecuted=true}function handleYellowPagesSubmission(event,submitFunc){var buttonElem=event.currentTarget;var formElem=buttonElem.form;var submitButton=$(formElem.elements.submitButton);var messageDiv=window.vsm.form.getMessageDiv(formElem);window.vsm.form.clearError(messageDiv);event.preventDefault();if(!window.vsm.form.checkValidity(formElem)){submitButton.click();return}submitFunc(formElem)}function yellowPageSubmit(formElem){var nameFields=["terms","city","state"];var values=$.map(nameFields,function(name){return $(formElem).find("input[name='"+name+"']").val()});var searchTerms=values[0].trim().replace(" ","+");var searchCity=values[1].trim().replace(" ","+");var searchState=values[2].trim();var completeGeo=searchCity+"+"+searchState;window.open(formElem.action+"search_terms= "+searchTerms+"&geo_location_terms="+completeGeo);return false}var greReady=false;var greUniqueIndex=0;function recaptchaOnLoadCallback(){greReady=true;$("FORM.contactform .g-recaptcha").each(function(idx,greDivElem){var greDiv=$(greDivElem);if(greDivElem.recaptchaInited){return}greDivElem.recaptchaInited=true;var greId=getRecpatchId(greDivElem);var formElem=greDiv.closest("form")[0];formElem.recaptchaPassed=false;var siteKey=greDiv.attr("data-sitekey");grecaptcha.render(greId,{sitekey:siteKey,callback:function(){formElem.recaptchaPassed=true;window.vsm.form.clearError(window.vsm.form.getMessageDiv(formElem))},"expired-callback":function(){formElem.recaptchaPassed=false}})});setTimeout(rescaleCaptcha,0);setTimeout(rescaleCaptcha,500)}function getRecpatchId(greDivElem){if(!greDivElem.id){greUniqueIndex++;greDivElem.id="RECAPTCHA_"+greUniqueIndex}return greDivElem.id}function gaEvents(){if(designer){return}$("body").on("click","a",function(){var href=$(this).attr("href");if(!href){return}var emailAddress=href.replace(/^mailto:/i,"");if(emailAddress!==href){sendGaEvent("EmailLink","click",emailAddress);return}var phone=href.replace(/^tel:/i,"");if(phone!==href){sendGaEvent("PhoneLink","click",phone)}});$(".embeddedmap iframe").iframeTracker({blurCallback:function(){sendGaEvent("Map","click")}})}function rescaleCaptcha(){try{$(".g-recaptcha").each(function(i,captchaContainer){captchaContainer=$(captchaContainer);var containerWidth=captchaContainer.width();captchaContainer.find("div").each(function(index,div){$(div).css({width:"",height:""})});captchaContainer.find("> div > div").each(function(index,div){var iframe=$(div).find("iframe");var iframeWidth=iframe.width();if(containerWidth>0&&containerWidth<iframeWidth){var scale=Math.max(1*containerWidth/iframeWidth,.6);captchaContainer.height(iframe.height()*scale+1);$(div).css({position:"absolute","z-index":10,transform:"scale("+scale+")","-webkit-transform":"scale("+scale+")","transform-origin":"0 0","-webkit-transform-origin":"0 0"})}else{captchaContainer.height(iframe.height()+1);$(div).css({position:"absolute","z-index":10,transform:"","-webkit-transform":"","transform-origin":"","-webkit-transform-origin":""})}})})}catch(e){console.error(e)}}function removeClearedFillHeights(){var elements=$(".compact");elements.push($(".normal"));elements.push($(".large"));elements.push($(".medium"));$(elements).each(function(i,el){$(el).css({height:""})})}function setAutoFillHeights(){window.vsm.autoFill.setHeights()}function checkboxRequiredValidation(){var requiredCheckboxes=$(":checkbox[required]");requiredCheckboxes.on("change",function(){var checkboxGroup=requiredCheckboxes.filter('[name="'+$(this).attr("name")+'"]');var isChecked=checkboxGroup.is(":checked");checkboxGroup.prop("required",!isChecked)})}